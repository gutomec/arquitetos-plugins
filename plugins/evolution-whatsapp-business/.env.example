# ============================================================================
# EVOLUTION WHATSAPP BUSINESS - CONFIGURACAO COMPLETA
# ============================================================================
# Copie este arquivo para .env e preencha com seus valores
# Todas as ferramentas do sistema buscam estas variaveis automaticamente
# ============================================================================

# ============================================================================
# EVOLUTION API - Servidor Principal
# ============================================================================
EVOLUTION_API_URL=https://evolution.seudominio.com
EVOLUTION_API_KEY=sua-chave-api-evolution
EVOLUTION_INSTANCE=principal

# ============================================================================
# POSTGRESQL - Banco de Dados da Evolution API (READ-ONLY)
# ============================================================================
# Este banco e gerenciado pela Evolution API
# O sistema apenas CONSULTA mensagens, contatos, etc
# NAO crie tabelas customizadas aqui
EVOLUTION_POSTGRES_HOST=localhost
EVOLUTION_POSTGRES_PORT=5432
EVOLUTION_POSTGRES_USER=postgres
EVOLUTION_POSTGRES_PASSWORD=sua-senha-postgres
EVOLUTION_POSTGRES_DB=evolution

# URI completa
EVOLUTION_DATABASE_URI=postgresql://${EVOLUTION_POSTGRES_USER}:${EVOLUTION_POSTGRES_PASSWORD}@${EVOLUTION_POSTGRES_HOST}:${EVOLUTION_POSTGRES_PORT}/${EVOLUTION_POSTGRES_DB}

# ============================================================================
# POSTGRESQL - Banco de Dados do Sistema SDR (READ-WRITE)
# ============================================================================
# Este banco e gerenciado pelo sistema SDR Virtual
# Aqui ficam: wa_pipeline, wa_score_history, wa_sla_tracking, etc
SYSTEM_POSTGRES_HOST=localhost
SYSTEM_POSTGRES_PORT=5432
SYSTEM_POSTGRES_USER=postgres
SYSTEM_POSTGRES_PASSWORD=sua-senha-postgres
SYSTEM_POSTGRES_DB=sdr_virtual

# URI completa
SYSTEM_DATABASE_URI=postgresql://${SYSTEM_POSTGRES_USER}:${SYSTEM_POSTGRES_PASSWORD}@${SYSTEM_POSTGRES_HOST}:${SYSTEM_POSTGRES_PORT}/${SYSTEM_POSTGRES_DB}

# ============================================================================
# REDIS - Cache e Filas
# ============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# URI completa
REDIS_URI=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# ============================================================================
# MINIO/S3 - Armazenamento de Arquivos
# ============================================================================
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=evolution-media
MINIO_REGION=us-east-1

# Para MCP S3 (usa formato AWS)
AWS_ACCESS_KEY_ID=${MINIO_ACCESS_KEY}
AWS_SECRET_ACCESS_KEY=${MINIO_SECRET_KEY}
AWS_ENDPOINT_URL=${MINIO_ENDPOINT}
AWS_REGION=${MINIO_REGION}

# ============================================================================
# GOOGLE APIs - Calendar e Gmail
# ============================================================================
# Obtenha em: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=seu-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=seu-client-secret
GOOGLE_REDIRECT_URI=http://localhost:3000/callback

# ============================================================================
# HUBSPOT CRM
# ============================================================================
# Obtenha em: https://developers.hubspot.com/
HUBSPOT_API_KEY=pat-na1-xxxxxxxx
HUBSPOT_ACCESS_TOKEN=${HUBSPOT_API_KEY}

# ============================================================================
# STRIPE - Pagamentos
# ============================================================================
# Obtenha em: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_live_xxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxx

# ============================================================================
# OPENAI - Transcricao Whisper e GPT
# ============================================================================
OPENAI_API_KEY=sk-xxxxxxxx

# ============================================================================
# ANTHROPIC - Claude API (para agentes)
# ============================================================================
ANTHROPIC_API_KEY=sk-ant-xxxxxxxx

# ============================================================================
# NOTIFICACOES
# ============================================================================
# Webhook externo (opcional)
NOTIFICATION_WEBHOOK_URL=https://seu-webhook.com/notify
NOTIFICATION_WEBHOOK_TOKEN=seu-token

# Email para alertas
NOTIFICATION_EMAIL=seu-email@dominio.com

# WhatsApp do dono para alertas urgentes
OWNER_WHATSAPP_NUMBER=5511999999999

# ============================================================================
# DASHBOARD WEB
# ============================================================================
DASHBOARD_PORT=3000
DASHBOARD_HOST=localhost
DASHBOARD_SECRET=sua-chave-secreta-para-sessao-32-chars

# URL publica do dashboard (para webhooks)
DASHBOARD_PUBLIC_URL=https://seu-dashboard.com

# ============================================================================
# MODO DE OPERACAO
# ============================================================================
# Valores: stealth | active | hybrid
OPERATION_MODE=stealth

# ============================================================================
# SLA E THRESHOLDS
# ============================================================================
# Tempo em minutos para considerar conversa esquecida
SLA_TIMEOUT_MINUTES=60

# Tempo em minutos para responder hot leads
SLA_HOT_LEAD_MINUTES=5

# Score minimo para considerar hot lead
HOT_LEAD_THRESHOLD=80

# ============================================================================
# HORARIO COMERCIAL
# ============================================================================
BUSINESS_HOURS_START=08:00
BUSINESS_HOURS_END=18:00
BUSINESS_HOURS_TIMEZONE=America/Sao_Paulo
# Dias de operacao (0=domingo, 1=segunda, ..., 6=sabado)
BUSINESS_DAYS=1,2,3,4,5

# ============================================================================
# LOGS E DEBUG
# ============================================================================
LOG_LEVEL=info
DEBUG_MODE=false

# ============================================================================
# DOCKER COMPOSE (para deploy)
# ============================================================================
COMPOSE_PROJECT_NAME=evolution-whatsapp-business

# ============================================================================
# VOLUMES (caminhos locais para persistencia)
# ============================================================================
DATA_PATH=./data
POSTGRES_DATA_PATH=${DATA_PATH}/postgres
REDIS_DATA_PATH=${DATA_PATH}/redis
MINIO_DATA_PATH=${DATA_PATH}/minio
